# \<선인왕\> - \<약을먹자\>

## 📚 목차

- [\<선인왕\> - \<약을먹자\>](#선인왕---약을먹자)
  - [서비스 요약](#서비스-요약)
  - [주제 구분](#주제-구분)
  - [팀원 소개](#팀원-소개)
  - [시연 영상](#시연-영상)
  - [서비스 소개](#서비스-소개)
    - [서비스 개요](#서비스-개요)
    - [타서비스와의 차별점](#타서비스와의-차별점)
  - [구현 내용 및 결과물](#구현-내용-및-결과물)
  - [구현 방식](#구현-방식)
    - [Frontend](#frontend)
    - [Backend](#backend)
    - [AI/OCR](#aiocr)
  - [향후 개선 혹은 발전 방안](#향후-개선-혹은-발전-방안)
  - [GitHub 레포지토리](#github-레포지토리)
  - [앱 배포](#앱-배포)

---

## 서비스 요약
약을 먹자 - 고령층을 위한 AI 기반 복약 도우미 서비스로, 약봉투 인식(OCR), 복약 스케줄링, 복약 기록 관리, 복지 연계까지 한 번에 해결하는 고령친화 스마트 케어 솔루션이다.

- 멀티모달 비전 모델을 활용해 **약봉투 사진만 찍어도** 약 정보가 자동으로 정리되고  
- 고령층 전용 UX와 음성 안내를 통해 **누구나 쉽게 복약을 관리**할 수 있도록 돕는다.

## 주제 구분
C타입 복지의 사각지대에 놓인 사람들 위한 서비스  
(ex. 위안부, 6·25 참전 용사, 미숙아 등 **돌봄이 필요하지만 충분한 지원을 받지 못하는 계층**을 포괄)

## 팀원 소개
팀명: 선인왕  

- 남상혁: 팀 리더 & 백엔드 개발
- 신지원: 웹 UI/UX 디자인 & 리드미 작성
- 우효정: 웹 프론트엔드 개발
- 황선인: 웹 투 앱 프론트엔드 개발

## 시연 영상
- (필수) Youtube 링크  
- (선택) Github Repository 페이지에서 바로 볼 수 있도록 넣어주셔도 좋습니다.

> 예:  
> - [시연 영상 보기](https://www.youtube.com/...)  
> - GitHub README 상단에 썸네일 이미지 + 링크 배치 가능

## 서비스 소개

### 서비스 개요

‘약을 먹자’는 고령층의 **복약 실수·복용 누락·중복 복용 문제**를 해결하기 위해 개발된 AI 기반 복약 관리 서비스다.  
작은 글씨의 약봉투, 복잡한 복용 지시, 기억력 저하로 인한 복약 오류 등 실제 노인들이 겪는 어려움을 해소하기 위해 다음과 같은 기능을 제공한다.

- 약봉지 촬영 → AI OCR로 약 정보 자동 추출
- 복약 스케줄 자동 생성
- 아침/점심/저녁 복약 알림
- 색·모양·크기로 재설명하는 고령친화 안내
- 복약 기록·달력 기반 이행률 확인
- 보호자 알림 및 복지 연계 가능성

고령층이 **혼자서도 쉽게 복약을 관리**할 수 있는 환경을 목표로 한다.

### 타서비스와의 차별점

#### ① 고령층 전용 UX
- 큰 글씨, 고대비 색상, 단순한 버튼 구조
- 한 화면에 한 기능만 배치하는 **인지 부담 최소화** 설계
- 필요 시 음성 안내 지원으로 시력이 좋지 않은 사용자도 사용 가능

#### ② 멀티모달 AI 기반 약봉투 OCR
- GPT-4o(Vision)을 활용해 단순 문자 인식을 넘어  
  **‘복용 횟수·기간·약 이름’의 의미 단위까지 자동 분류**
- 한 봉투에 여러 약이 있어도 `medications[]` 구조로 한 번에 인식
- 불필요한 텍스트(용량, 단위 등)는 후처리로 정제

#### ③ 복약 설명을 “색·모양·크기”로 변환
- 노인이 이해하기 쉽게, 약 이름 대신 **색·모양·크기 중심 설명**으로 변환  
  예: `OO정 500mg → "작은 하얀색 둥근 약 1알"`

#### ④ 고령층·보호자·지자체를 모두 연결하는 구조
- 1차: 개인용 서비스 (노인 본인)
- 2차: 보호자 구독 모델
- 3차: 지자체·복지센터 확장 (독거노인 관리, 복지 사각지대 발굴)
- 4차: 병원·약국 연계까지 확장 가능한 구조

#### ⑤ 인메모리 기반 프로토타입 → 확장 가능한 API 구조
- 현재는 해커톤용 프로토타입이지만,
- 이후 **DB 연동 / API 확장 / 기관 연동**을 고려해 설계된 구조

---

## 구현 내용 및 결과물

### 1. 주요 기능

#### ① 약 봉투 인식 (OCR)
- 사용자가 약봉투를 찍으면 GPT-4o Vision이  
  **약 이름 / 1일 복용 횟수 / 복용 일수**를 자동 추출
- 한 봉투에 여러 약이 적혀 있으면 **여러 약을 동시에 인식**해 `medications[]` 배열로 저장
- 용량 단위·불필요 텍스트 제거 및 의미 기반 후처리 적용

#### ② 오늘의 약
- 복약해야 할 약을 시간대별(아침/점심/저녁)로 자동 분류
- GPT-4o-mini로 **색·모양·크기 기반 설명** 생성
- 복용 완료 버튼 클릭 시 해당 기록이 자동 저장

#### ③ 복약 내역
- 기간별 복용 기록 조회
- 사용자가 **언제, 어떤 약을, 얼마나** 복용했는지 확인 가능
- 진료 시 의사에게 복약 기록을 보여줄 수 있음

#### ④ 이달의 약
- **달력 기반 복약 이행률 시각화**
- 복약한 날: `O` / 복약 실패: `X`
- 하루 복약 횟수는 아이콘 개수로 표시

#### ⑤ 챗봇 기능
- GPT-4o-mini 기반 **고령층 친화 대화형 복약 가이드**
- 예:  
  - “약 먹는 시간 알려줘”  
  - “이 약은 언제 먹어?”  
  같은 단순 질의에도 쉽게 이해할 수 있는 문장으로 응답

#### ⑥ 복약 알림 서비스
- 아침/점심/저녁 복약 시간 기반 푸시/문자 알림
- 30분 내 미응답 시 본인·보호자에게 재알림
- 향후 **보호자 관리 기능**과 연계해 확장 가능

---

## 구현 방식

### \<Frontend\>
- HTML5, CSS3, Vanilla JavaScript
- 모바일 390px 기준 반응형 레이아웃
- `getUserMedia` 기반 카메라 캡처
- **고령층 친화 단순 UI/UX** 구조 설계

### \<Backend\>
- Python3, Flask, Flask-CORS
- REST API 구조
- In-memory 데이터베이스(프로토타입)
- Render/Railway 등으로 배포 가능한 구조

### \<AI/OCR\>
- GPT-4o (Vision) → 약봉투 OCR 및 정보 추출
- GPT-4o-mini → 고령층 친화 설명 / 챗봇
- JSON 스키마를 강제하는 프롬프트 + 후처리 규칙 기반 정제

#### 🔍 AI 기반 핵심 동작 정리 (추가 설명)

- **멀티모달 비전 모델 기반 약봉투 인식**
  - 카메라로 찍은 이미지를 그대로 넣으면  
    이미지 속 텍스트를 읽고 `name`, `dosage`, `days`를 가진 JSON 구조로 변환
  - “이 글자가 약 이름인지 / 복용 횟수인지 / 복용 기간인지”까지 판단

- **LLM 기반 노인 친화 문장 생성**
  - 약 이름 리스트 → 색·모양·크기를 활용한 직관적인 설명으로 변환
  - 예: `"OO정 500mg"` → `"작은 하얀색 둥근 약 1알"`

- **대화형 복약 도우미**
  - 시스템 프롬프트에서  
    - 마크다운 금지  
    - 짧고 쉬운 문장  
    - 고령층 대상 설명  
    를 강제해, 바로 UI에 붙여 쓸 수 있는 응답만 생성

---

## 향후 개선 혹은 발전 방안

### 1) 단계별 확장 모델

#### ① 1단계 – 무료 MVP 제공
- 핵심 기능(약봉투 인식, 스케줄링, 알림, 내역 조회) 제공
- 실제 고령층 사용성 검증
- OCR 정확도 및 UX 개선

#### ② 2단계 – 보호자 구독 모델
- 복약 성공/실패 알림
- 패턴 분석 리포트
- 다계정(여러 부모님) 관리
- 간단한 약물 상호작용 안내

#### ③ 3단계 – 지자체·복지기관 B2G 확장
- 독거노인 복약 누락 탐지 대시보드
- 고위험군 모니터링
- 방문 돌봄 우선순위 설정
- 보건소·복지관 도입 가능

#### ④ 4단계 – 의료기관 연동
- 약국 조제 정보 → 앱 자동 전송
- QR 처방전 연동
- 병원 EMR 연동
- 보험사 복약 이행률 기반 혜택

### 2) 데이터 기반 의료·복지 인프라 확장

- 복약 이행률 통계
- 시간대·지역별 복약 실패 패턴 분석
- 지자체 정책 설계 지원
- 장기 의료비 절감 효과 제공  
  → **노인 개인의 건강 관리**를 넘어,  
  **지역사회·국가 단위의 보건 정책에 활용 가능한 데이터 플랫폼**으로 확장 가능

---

## GitHub 레포지토리
- [medicine_helper GitHub Repository](https://github.com/skeltx44/medicine_helper)
### 앱 구현
- [webapp GitHub Repository](https://github.com/skeltx44/webapp)

## 앱 배포
- (배포 URL이 정해지면 여기에 추가)
