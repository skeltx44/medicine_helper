# 🚀 약을 먹자 앱 실행 가이드

## 📋 실행 순서

> **⚠️ 중요:** 백엔드는 Render에 배포되어 있습니다 (`https://sibaljom.onrender.com`)
> 프론트엔드는 로컬에서 실행하지만, API는 Render 서버를 호출합니다.

### 1단계: 프론트엔드 실행 (필수!)

**터미널 (PowerShell 또는 CMD)을 열고:**

```bash
# 프로젝트 폴더로 이동
cd C:\Users\ADMIN\Desktop\final

# 웹 서버 실행
python -m http.server 8080
```

**성공하면:**
```
Serving HTTP on 0.0.0.0 port 8080 (http://0.0.0.0:8080/) ...
```

---

### 2단계: 브라우저에서 접속

**브라우저를 열고:**
```
http://localhost:8080
```

또는

```
http://127.0.0.1:8080
```

---

## ✅ 실행 확인

### 백엔드 서버 확인 (Render)
브라우저에서 다음 주소로 접속:
```
https://sibaljom.onrender.com/api/health
```

**정상이면:**
```json
{
  "status": "healthy",
  "timestamp": "2025-01-XX..."
}
```

> **참고:** 백엔드는 Render에 배포되어 있으므로 로컬에서 실행할 필요가 없습니다.
> 프론트엔드는 자동으로 `https://sibaljom.onrender.com`의 API를 호출합니다.

### 프론트엔드 확인
- 메인 화면이 보이면 성공!
- 로그인 화면이 먼저 나올 수 있습니다

---

## 🎯 기능 테스트 순서

### 1. 로그인
- 성명과 전화번호 입력 (임의로 입력 가능)
- 로그인 버튼 클릭

### 2. 약봉지 인식 테스트
1. 메인 화면에서 **"검색"** 버튼 클릭
2. 약봉지 사진 촬영 (또는 테스트용 이미지 사용)
3. 이미지 분석 및 약 정보 추출 확인

### 3. 챗봇 테스트
1. 메인 화면에서 **"챗봇"** 버튼 클릭
2. 메시지 입력 (예: "안녕하세요", "약 먹는 시간 알려줘")
3. GPT 응답 확인

### 4. 오늘의 약 테스트
1. 메인 화면에서 **"오늘의 약"** 버튼 클릭
2. 아침/점심/저녁 시간대별 약 확인
3. 노인 친화적 설명 및 음성 안내 확인

---

## ⚠️ 문제 해결

### 백엔드 API 연결 오류

**"서버에 연결할 수 없습니다" 오류:**
- Render 서버가 정상 작동하는지 확인: `https://sibaljom.onrender.com/api/health`
- Render 서버는 첫 요청 시 약간의 지연이 있을 수 있습니다 (Cold Start)
- 네트워크 연결 상태 확인

**CORS 오류:**
- Render 서버의 CORS 설정이 올바른지 확인
- `backend/app.py`에서 CORS가 활성화되어 있는지 확인

### 로컬 백엔드 개발 (선택사항)

로컬에서 백엔드를 개발하고 싶다면:

```bash
# backend 폴더로 이동
cd backend

# 가상환경 활성화
venv\Scripts\activate

# 필요한 패키지 설치
pip install -r requirements.txt

# .env 파일 생성 (OPENAI_API_KEY 설정)
# 백엔드 서버 실행
python app.py
```

로컬 백엔드를 사용하려면 `config.js`에서 API URL을 변경하세요:
```javascript
BASE_URL: 'http://localhost:5001/api'
```

### 프론트엔드가 열리지 않을 때

**오류: "Address already in use"**
- 포트 8080이 이미 사용 중
- 다른 포트 사용: `python -m http.server 8081`

### API 호출 오류

**브라우저 콘솔에서 CORS 오류가 보일 때:**
- Render 서버가 정상 작동하는지 확인: `https://sibaljom.onrender.com/api/health`
- Render 서버의 CORS 설정 확인

**"서버에 연결할 수 없습니다" 오류:**
- Render 서버 상태 확인: `https://sibaljom.onrender.com/api/health`
- 네트워크 연결 확인
- Render 서버가 Cold Start 상태일 수 있음 (첫 요청 시 약간의 지연)

---

## 📝 빠른 시작 (한 줄 요약)

**터미널:**
```bash
cd C:\Users\ADMIN\Desktop\final && python -m http.server 8080
```

**브라우저:**
```
http://localhost:8080
```

> **참고:** 백엔드는 Render에 배포되어 있으므로 별도로 실행할 필요가 없습니다.
> 프론트엔드는 자동으로 `https://sibaljom.onrender.com`의 API를 호출합니다.

---

## 🎉 성공!

모든 것이 정상 작동하면:
- ✅ 백엔드 서버: `https://sibaljom.onrender.com` (Render에 배포됨)
- ✅ 프론트엔드: `http://localhost:8080` 실행 중
- ✅ 브라우저에서 앱 사용 가능!

